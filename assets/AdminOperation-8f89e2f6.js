import{_ as U,a as V,r as i,o as p,e as A,w as s,m as E,f,b as a,d as O,h as m,t as k,c as F,i as N,F as R,g as j,A as Y,j as I}from"./index-04ea303d.js";const H={props:{updateForm:{type:Boolean},initial_asp_form_data:{type:Object},asp_update_id:String,aspirants:{type:Object},snackbar:{type:Object},offices:{type:Object}},data:()=>({isLoading:!1,aspirant_dialog:!1,alert_msgs:[],alert_type:"",first_name:"",other_names:"",department:"",avatar:"",office:{name:"Select an office",id:9},first_name_rules:[e=>e?!0:"First name is required"],other_names_rules:[e=>e?!0:"Enter at least other name."],department_rules:[e=>e?!0:"Department is required."],select_rules:[e=>e?!0:"You must enter an  office name."],avatar_rules:[e=>!e||!e.length||e[0].size<1e6||"Avatar size should be less than 1MB!"]}),methods:{async handleSubmit(e){this.isLoading=!0,this.alert_msgs=[];const{valid:o}=await this.$refs.form.validate();if(!o)return this.isLoading=!1;if(o){const c={first_name:this.first_name,other_names:this.other_names,department:this.department,office_id:this.office.id,avatar:this.avatar},u=this;this.updateForm?d(u):r(u);async function r(t){try{const n=await(await V.post("/admin/create-aspirant",c)).data;n.ok?(t.isLoading=!1,t.aspirant_dialog=!1,t.snackbar.show=!0,t.snackbar.text=n.msg,t.first_name="",t.other_names="",t.department="",t.aspirants.push(n.aspirant)):(t.isLoading=!1,t.alert_type="error",n.msg=n.msg.split("."),t.alert_msgs=n.msg)}catch(n){t.isLoading=!1,t.alert_type="warning",t.alert_msgs=[n.message],console.log("error:",n.message)}}async function d(t){try{const n=await(await V.patch("/admin/update-aspirant/"+t.asp_update_id,c)).data;n.ok?(t.isLoading=!1,t.snackbar.show=!0,t.snackbar.text=n.msg,t.aspirant_dialog=!1,t.aspirants.forEach(function(v,h){v._id===t.asp_update_id&&(v.first_name=c.first_name,v.other_names=c.other_names,v.department=c.department,v.office=t.office,v.avatar=t.avatar)})):(t.isLoading=!1,t.alert_type="error",n.msg=n.msg.split("."),t.alert_msgs=n.msg)}catch(n){t.isLoading=!1,t.alert_type="warning",t.alert_msgs=[n.message],console.log("error:",n.message)}}}},convertBase64(e){return new Promise((o,c)=>{const u=new FileReader;u.readAsDataURL(e),u.onload=()=>{o(u.result)},u.onerror=r=>{c(r)}})},async uploadImage(e){const o=e.target.files[0],c=await this.convertBase64(o);this.avatar=c}},async mounted(){this.first_name=this.updateForm?this.initial_asp_form_data.first_name:"",this.other_names=this.updateForm?this.initial_asp_form_data.other_names:"",this.department=this.updateForm?this.initial_asp_form_data.department:"",this.office=this.updateForm?this.initial_asp_form_data.office:this.office},computed(){}},K={class:"grey--text text-h5 font-weight-bold mb-3 text-uppercase"};function M(e,o,c,u,r,d){const t=i("v-icon"),n=i("v-btn"),v=i("v-alert"),h=i("v-text-field"),w=i("v-select"),x=i("v-file-input"),l=i("v-spacer"),y=i("v-card-actions"),C=i("v-form"),S=i("v-card-title"),g=i("v-card"),L=i("v-dialog");return p(),A(L,{modelValue:e.aspirant_dialog,"onUpdate:modelValue":o[5]||(o[5]=b=>e.aspirant_dialog=b),"max-width":"600px"},{activator:s(({props:b})=>[c.updateForm?(p(),A(t,E({key:0,size:"small",class:"me-2"},b),{default:s(()=>[f(" mdi-square-edit-outline ")]),_:2},1040)):(p(),A(n,E({key:1,color:"primary"},b),{default:s(()=>[f(" Create Aspirant ")]),_:2},1040))]),default:s(()=>[a(g,null,{default:s(()=>[a(S,null,{default:s(()=>[a(C,{ref:"form",onSubmit:O(d.handleSubmit,["prevent"])},{default:s(()=>[m("div",K,k(c.updateForm?"Update Aspirant":"Add an Aspirant"),1),e.alert_msgs.length!=0?(p(),A(v,{key:0,class:"mb-3 py-1",type:e.alert_type,title:"",variant:"tonal",border:"start","close-label":"Close Alert"},{default:s(()=>[(p(!0),F(R,null,N(e.alert_msgs,(b,P)=>(p(),F("div",{key:P},k(b),1))),128))]),_:1},8,["type"])):j("",!0),a(h,{modelValue:e.first_name,"onUpdate:modelValue":o[0]||(o[0]=b=>e.first_name=b),rules:e.first_name_rules,label:"First name"},null,8,["modelValue","rules"]),a(h,{modelValue:e.other_names,"onUpdate:modelValue":o[1]||(o[1]=b=>e.other_names=b),rules:e.other_names_rules,label:"Other names"},null,8,["modelValue","rules"]),a(h,{modelValue:e.department,"onUpdate:modelValue":o[2]||(o[2]=b=>e.department=b),rules:e.department_rules,label:"Department"},null,8,["modelValue","rules"]),a(w,{modelValue:e.office,"onUpdate:modelValue":o[3]||(o[3]=b=>e.office=b),items:c.offices,"item-title":"name","item-value":"id",label:"Select office","return-object":""},null,8,["modelValue","items"]),a(x,{rules:e.avatar_rules,accept:"image/png, image/jpeg, image/jpg",placeholder:"Pick an avatar",label:"Avatar",onChange:d.uploadImage,"show-size":""},null,8,["rules","onChange"]),a(y,null,{default:s(()=>[a(l),a(n,{color:"red",variant:"text",onClick:o[4]||(o[4]=b=>e.aspirant_dialog=!1)},{default:s(()=>[f(" Cancel ")]),_:1}),a(n,{color:"green-darken-1",variant:"text",type:"submit",loading:e.isLoading,disabled:e.isLoading},{default:s(()=>[f(" save ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Z=U(H,[["render",M]]),G={props:{updateForm:{type:Boolean},initial_form_data:{type:Object},init_office_name:String,office_update_id:String,snackbar:{type:Object},offices:{type:Object}},data:()=>({isLoading:!1,office_dialog:!1,alert_msgs:[],alert_type:"",name:"",name_rules:[e=>e?!0:"First name is required"]}),methods:{async handleSubmit(e){this.isLoading=!0,this.alert_msgs=[];const{valid:o}=await this.$refs.form.validate();if(!o)return this.isLoading=!1;if(o){const c={name:this.name},u=this;this.updateForm?d(u):r(u);async function r(t){try{const n=await(await V.post("http://127.0.0.1:500/admin/create-office",c)).data;n.ok?(t.isLoading=!1,t.office_dialog=!1,t.snackbar.show=!0,t.snackbar.text=n.msg,t.name="",t.offices.push(n.office)):(t.isLoading=!1,t.alert_type="error",n.msg=n.msg.split("."),t.alert_msgs=n.msg)}catch(n){t.isLoading=!1,t.alert_type="warning",t.alert_msgs=[n.message],console.log("error:",n.message)}}async function d(t){try{const n=await(await V.patch("http://127.0.0.1:500/admin/update-office/"+t.office_update_id,c)).data;n.ok?(t.isLoading=!1,t.snackbar.show=!0,t.snackbar.text=n.msg,t.office_dialog=!1,t.offices.forEach(function(v,h){v._id===t.office_update_id&&(v.name=c.name)})):(t.isLoading=!1,t.alert_type="error",n.msg=n.msg.split("."),t.alert_msgs=n.msg)}catch(n){t.isLoading=!1,t.alert_type="warning",t.alert_msgs=[n.message],console.log("error:",n.message)}}}}},async mounted(){this.name=this.updateForm?this.init_office_name:""},computed:{edited_name(){return this.updateForm?this.init_office_name:this.name}}},J={class:"grey--text text-h5 font-weight-bold mb-3 text-uppercase"};function Q(e,o,c,u,r,d){const t=i("v-icon"),n=i("v-btn"),v=i("v-alert"),h=i("v-text-field"),w=i("v-spacer"),x=i("v-card-actions"),l=i("v-form"),y=i("v-card-title"),C=i("v-card"),S=i("v-dialog");return p(),A(S,{modelValue:e.office_dialog,"onUpdate:modelValue":o[2]||(o[2]=g=>e.office_dialog=g),"max-width":"600px"},{activator:s(({props:g})=>[c.updateForm?(p(),A(t,E({key:0,size:"small",class:"me-2"},g),{default:s(()=>[f(" mdi-square-edit-outline ")]),_:2},1040)):(p(),A(n,E({key:1,color:"primary"},g),{default:s(()=>[f(" Create Office ")]),_:2},1040))]),default:s(()=>[a(C,null,{default:s(()=>[a(y,null,{default:s(()=>[a(l,{ref:"form",onSubmit:O(d.handleSubmit,["prevent"])},{default:s(()=>[m("div",J,k(c.updateForm?"Update Office":"Add an Office"),1),e.alert_msgs.length!=0?(p(),A(v,{key:0,class:"mb-3 py-1",type:e.alert_type,title:"",variant:"tonal",border:"start","close-label":"Close Alert"},{default:s(()=>[(p(!0),F(R,null,N(e.alert_msgs,(g,L)=>(p(),F("div",{key:L},k(g),1))),128))]),_:1},8,["type"])):j("",!0),a(h,{modelValue:e.name,"onUpdate:modelValue":o[0]||(o[0]=g=>e.name=g),rules:e.name_rules,label:"First name"},null,8,["modelValue","rules"]),a(x,null,{default:s(()=>[a(w),a(n,{color:"red",variant:"text",onClick:o[1]||(o[1]=g=>e.office_dialog=!1)},{default:s(()=>[f(" Cancel ")]),_:1}),a(n,{color:"green-darken-1",variant:"text",type:"submit",loading:e.isLoading,disabled:e.isLoading},{default:s(()=>[f(" save ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const W=U(G,[["render",Q]]),X={props:{snackbar:{type:Object},voters:{type:Object}},data:()=>({isLoading:!1,voter_dialog:!1,alert_msgs:[],alert_type:"",reg_nos:[],tempVoterRegNo:"",reg_no_rules:[e=>e?!0:"First Reg no is required"]}),methods:{async handleSubmit(e){this.isLoading=!0,this.alert_msgs=[];const{valid:o}=await this.$refs.form.validate();if(o){const c={reg_nos:this.reg_nos};r(this);async function r(d){try{const t=await(await V.post("/admin/register-voters",c)).data;if(t.ok){d.isLoading=!1,d.voter_dialog=!1,d.snackbar.show=!0,d.snackbar.text=t.msg,d.reg_nos=[];for(let n of t.voters)d.voters.push({reg_no:n.reg_no,_id:n._id,voted:n.voted})}else d.isLoading=!1,d.alert_type="error",t.msg=t.msg.split("."),d.alert_msgs=t.msg}catch(t){d.isLoading=!1,d.alert_type="warning",d.alert_msgs=[t.message],console.log("error:",t.message)}}}},addVoter(e){!this.reg_nos.includes(this.tempVoterRegNo)&&!isNaN(this.tempVoterRegNo)?e.key===","&&this.tempVoterRegNo&&(this.reg_nos.push(this.tempVoterRegNo),this.tempVoterRegNo=""):this.tempVoterRegNo=""},fill(){let e=this.tempVoterRegNo.split(",");for(var o=0;o<e.length;o++)this.reg_nos.includes(e[o])||isNaN(e[o])||e[o]==""||this.reg_nos.push(e[o]);this.tempVoterRegNo=""},close_chip(e){this.reg_nos=this.reg_nos.filter(o=>o!=e),console.log(this.reg_nos)}},async mounted(){console.log(this.voters)},computed:{}},$=m("div",{class:"grey--text text-h5 font-weight-bold mb-3 text-uppercase"},"Add multiple voters",-1),ee=m("small",{class:""},[f("Enter at least 5 Reg numbers adding ',' after "),m("br"),f("each Reg no to append to the list "),m("br"),f(" You can also paste at least 5 Reg numbers "),m("br"),f("adding a comma ',' after each Reg no and click fill list")],-1),te=m("div",null,"Voters:",-1),ae={class:"overflow-x-auto"};function oe(e,o,c,u,r,d){const t=i("v-btn"),n=i("v-alert"),v=i("v-text-field"),h=i("v-chip"),w=i("v-spacer"),x=i("v-card-actions"),l=i("v-form"),y=i("v-card-title"),C=i("v-card"),S=i("v-dialog");return p(),A(S,{modelValue:e.voter_dialog,"onUpdate:modelValue":o[2]||(o[2]=g=>e.voter_dialog=g),"max-width":"600px"},{activator:s(({props:g})=>[a(t,E({color:"primary"},g),{default:s(()=>[f(" Bulk Create Voters ")]),_:2},1040)]),default:s(()=>[a(C,null,{default:s(()=>[a(y,null,{default:s(()=>[a(l,{ref:"form",onSubmit:O(d.handleSubmit,["prevent"])},{default:s(()=>[$,ee,e.alert_msgs.length!=0?(p(),A(n,{key:0,class:"mb-3 py-1",type:e.alert_type,title:"",variant:"tonal",border:"start","close-label":"Close Alert"},{default:s(()=>[(p(!0),F(R,null,N(e.alert_msgs,(g,L)=>(p(),F("div",{key:L},k(g),1))),128))]),_:1},8,["type"])):j("",!0),a(v,{modelValue:e.tempVoterRegNo,"onUpdate:modelValue":o[0]||(o[0]=g=>e.tempVoterRegNo=g),onKeyup:O(d.addVoter,["alt"]),label:"Reg numbers"},null,8,["modelValue","onKeyup"]),a(t,{onClick:d.fill,color:"info",size:"x-small"},{default:s(()=>[f(" fill ")]),_:1},8,["onClick"]),te,m("div",ae,[e.reg_nos?(p(!0),F(R,{key:0},N(e.reg_nos,g=>(p(),A(h,{class:"ma-2",closable:"","onClick:close":L=>d.close_chip(g)},{default:s(()=>[f(k(g),1)]),_:2},1032,["onClick:close"]))),256)):j("",!0)]),a(x,null,{default:s(()=>[a(w),a(t,{color:"red",variant:"text",onClick:o[1]||(o[1]=g=>e.voter_dialog=!1)},{default:s(()=>[f(" Cancel ")]),_:1}),a(t,{color:"green-darken-1",variant:"text",type:"submit",loading:e.isLoading,disabled:e.isLoading},{default:s(()=>[f(" save ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const se=U(X,[["render",oe]]),ne={props:{confirm_dialog:{type:Object},test_dialog:String},data(){return{toggleElection:!1}},methods:{handleResolved(){this.confirm_dialog.show=!1,this.$emit("resolved",this.confirm_dialog.cb,this.confirm_dialog.cb_arg)}},mounted(){}};function ie(e,o,c,u,r,d){const t=i("v-card-title"),n=i("v-card-text"),v=i("v-spacer"),h=i("v-btn"),w=i("v-card-actions"),x=i("v-card"),l=i("v-dialog"),y=i("v-row");return p(),A(y,{justify:"center",class:"mt-5"},{default:s(()=>[a(l,{"max-width":"600px",modelValue:c.confirm_dialog.show,"onUpdate:modelValue":o[1]||(o[1]=C=>c.confirm_dialog.show=C),persistent:""},{default:s(()=>[a(x,null,{default:s(()=>[a(t,{class:"text-h5"},{default:s(()=>[f(k(c.confirm_dialog.title),1)]),_:1}),a(n,null,{default:s(()=>[f(k(c.confirm_dialog.text),1)]),_:1}),a(w,null,{default:s(()=>[a(v),a(h,{color:c.confirm_dialog.btn_reject_color,variant:"text",onClick:o[0]||(o[0]=C=>c.confirm_dialog.show=!1)},{default:s(()=>[f(k(c.confirm_dialog.btn_reject_text),1)]),_:1},8,["color"]),a(h,{color:c.confirm_dialog.btn_resolve_color,variant:"text",onClick:d.handleResolved},{default:s(()=>[f(k(c.confirm_dialog.btn_resolve_text),1)]),_:1},8,["color","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const re=U(ne,[["render",ie]]);const le={components:{OfficeForm:W,AlertSuccuss:Y,AspirantForm:Z,VoterForm:se,ConfirmDialogue:re},name:"Admin Operation",props:{},data(){return{token_search:"",voter_search:"",toggleElection:!0,snackbar:{show:!1,text:"sample bar",color:"green"},test_dialog:"this is text dialog",confirm_dialog:{show:!1,title:"sample title",text:"sample bar",btn_resolve_color:"green-darken-1",btn_resolve_text:"Ok",btn_reject_color:"red",btn_reject_text:"Cancel",cb_arg:""},update_office_dialog:!1,create_office_dialog:!1,update_aspirant_dialog:!1,create_aspirant_dialog:!1,authHeader:{Authorization:`Bearer ${sessionStorage.getItem("_x__r_a_y__m_u_m_m_y_")}`},init_office_:{id:1,_id:"039174dd9b734d714",name:"This is it",deleted_flag:!1,createdAt:"2023-02-06T20:09:58.000Z",updatedAt:"2023-02-16T14:51:54.000Z"},initial_asp_form_data:{},itemsPerPage:5,token_headers:[{align:"start",key:"_token",sortable:!0,title:"Available Tokens"},{key:"isUsed",title:"Availability"}],tokens:[],voter_headers:[{align:"start",key:"reg_no",sortable:!0,title:"Voter Reg No"},{key:"voted",title:"Status"}],voters:[],offices:[],aspirants:[]}},methods:{handle_delete_office(e){this.confirm_dialog.show=!0,this.confirm_dialog.title="Confirm Delete",this.confirm_dialog.text=`You are about to delete the office of the ${e.name}`,this.confirm_dialog.btn_reject_color="green-darken-1",this.confirm_dialog.btn_resolve_color="red",this.confirm_dialog.btn_resolve_text="delete",this.confirm_dialog.cb=this.delete_office,this.confirm_dialog.cb_arg=e},handle_delete_aspirant(e){this.confirm_dialog.show=!0,this.confirm_dialog.title="Confirm Delete",this.confirm_dialog.text=`You are about to remove condidate ${e.first_name}`,this.confirm_dialog.btn_reject_color="green-darken-1",this.confirm_dialog.btn_resolve_color="red",this.confirm_dialog.btn_resolve_text="delete",this.confirm_dialog.cb=this.delete_aspirant,this.confirm_dialog.cb_arg=e},async delete_office(e){const o=await(await V.delete("/admin/delete-office/"+e._id)).data;o.ok&&(this.snackbar.show=!0,this.snackbar.text=o.msg,this.offices=this.offices.filter(c=>c._id!==e._id))},edit_office(e){this.init_office_=e,this.update_office_dialog=!0},async delete_aspirant(e){const o=await(await V.delete("/admin/delete-aspirant/"+e._id)).data;o.ok&&(this.snackbar.show=!0,this.snackbar.text=o.msg,this.aspirants=this.aspirants.filter(c=>c._id!==e._id))},edit_aspirant(e){this.initial_asp_form_data=e,this.update_aspirant_dialog=!0},async fetch_tokens(){var e,o,c;try{const u=await(await V.get("/admin/fetch-tokens/")).data;if(u.ok){for(let r of u.tokens);this.tokens=u.tokens}}catch(u){u.name=="AxiosError"&&(this.snackbar.show=!0,this.snackbar.text=(o=(e=u.response)==null?void 0:e.data)==null?void 0:o.msg,console.log((c=u.response)==null?void 0:c.data)),console.log(u)}},async toggle_election(){this.confirm_dialog.show=!0,this.confirm_dialog.btn_resolve_text="continue",this.toggleElection?(this.confirm_dialog.title="End Election ?",this.confirm_dialog.text="You are about to end voting process",this.confirm_dialog.cb=this.stop_election):(this.confirm_dialog.title="Start Election ?",this.confirm_dialog.text="You are about to commence voting process",this.confirm_dialog.cb=this.start_election)},handleResolved(e,o){e(o)},async stop_election(){const e=await(await V.put("/admin/end-voting/")).data;e.ok&&(this.snackbar.show=!0,this.snackbar.text=e.msg,this.toggleElection=!1)},async start_election(){const e=await(await V.put("/admin/commence-voting/")).data;e.ok&&(this.snackbar.show=!0,this.snackbar.text=e.msg,this.toggleElection=!0)}},async created(){var e,o,c,u,r,d,t,n,v,h,w,x;try{const l=await(await V.get("/admin/fetch-office/")).data;l.ok&&(this.offices=l.offices)}catch(l){l.name=="AxiosError"&&(this.snackbar.show=!0,this.snackbar.text=(o=(e=l.response)==null?void 0:e.data)==null?void 0:o.msg,this.snackbar.color="red",console.log((c=l.response)==null?void 0:c.data)),console.log(l)}try{const l=await(await V.get("/admin/fetch-aspirants/")).data;if(l.ok){for(let y of l.aspirants)y.office=this.offices.filter(C=>C.id==y.office_id)[0]||{name:"--deleted--",id:0};this.aspirants=l.aspirants}}catch(l){l.name=="AxiosError"&&(this.snackbar.show=!0,this.snackbar.text=(r=(u=l.response)==null?void 0:u.data)==null?void 0:r.msg,console.log((d=l.response)==null?void 0:d.data)),console.log(l)}try{const l=await(await V.get("/admin/election-status")).data;l.ok&&(this.toggleElection=l.status)}catch(l){l.name=="AxiosError"&&(this.snackbar.show=!0,this.snackbar.text=(n=(t=l.response)==null?void 0:t.data)==null?void 0:n.msg,console.log((v=l.response)==null?void 0:v.data)),console.log(l)}try{const l=await(await V.get("/admin/fetch-voters/")).data;if(l.ok){for(let y of l.voters);this.voters=l.voters}}catch(l){l.name=="AxiosError"&&(this.snackbar.show=!0,this.snackbar.text=(w=(h=l.response)==null?void 0:h.data)==null?void 0:w.msg,console.log((x=l.response)==null?void 0:x.data)),console.log(l)}},mounted(){sessionStorage.getItem("_x__r_a_y__m_u_m_m_y_")||this.$router.push({name:"Login"})}},ce={class:"badge-dot"},de=m("thead",null,[m("tr",null,[m("th",{class:"text-left"}," Name "),m("th",{class:"text-right"}," Action ")])],-1),_e={class:"text-right"},me=m("thead",null,[m("tr",null,[m("th",{class:"text-left"}," Avatar "),m("th",{class:"text-left"}," First Name "),m("th",{class:"text-left"}," Other Names "),m("th",{class:"text-left"}," Department "),m("th",{class:"text-left"}," Office "),m("th",{class:"text-right"}," Action ")])],-1),fe={class:"text-right"};function ue(e,o,c,u,r,d){const t=i("AlertSuccuss"),n=i("ConfirmDialogue"),v=i("v-badge"),h=i("v-switch"),w=i("v-spacer"),x=i("OfficeForm"),l=i("v-row"),y=i("v-card-title"),C=i("v-icon"),S=i("v-table"),g=i("v-card"),L=i("AspirantForm"),b=i("v-avatar"),P=i("VoterForm"),B=i("v-text-field"),z=i("v-chip"),D=i("v-data-table"),q=i("v-btn");return p(),F(R,null,[a(t,{snackbar:r.snackbar},null,8,["snackbar"]),a(n,{onResolved:d.handleResolved,confirm_dialog:r.confirm_dialog,test_dialog:r.test_dialog},null,8,["onResolved","confirm_dialog","test_dialog"]),a(h,{class:"d-flex ms-2 me-0 flex-wrap align-end",onClick:O(d.toggle_election,["prevent"]),modelValue:r.toggleElection,"onUpdate:modelValue":o[0]||(o[0]=_=>r.toggleElection=_),"hide-details":"",inset:"",color:"success",label:`Election: ${r.toggleElection?"Ongoing":"Not started"}`},I({_:2},[r.toggleElection?{name:"append",fn:s(()=>[m("div",ce,[a(v,{color:"success",inline:"",dot:""})])]),key:"0"}:void 0]),1032,["onClick","modelValue","label"]),a(g,{class:"ma-5 pa-5"},{default:s(()=>[a(y,{class:"mb-5"},{default:s(()=>[a(l,null,{default:s(()=>[f(" OFFICES "),a(w),a(x,{offices:r.offices,snackbar:r.snackbar},null,8,["offices","snackbar"])]),_:1}),a(l)]),_:1}),a(S,null,{default:s(()=>[de,m("tbody",null,[(p(!0),F(R,null,N(r.offices,_=>(p(),F("tr",{key:_.name},[m("td",null,k(_.name),1),m("td",_e,[a(x,{offices:r.offices,updateForm:"",snackbar:r.snackbar,init_office_name:_.name,office_update_id:_._id},null,8,["offices","snackbar","init_office_name","office_update_id"]),a(C,{color:"red",onClick:T=>d.handle_delete_office(_),class:"ms-2",size:"small"},{default:s(()=>[f(" mdi-trash-can-outline ")]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),a(g,{class:"ma-5 pa-5"},{default:s(()=>[a(y,{class:"mb-5"},{default:s(()=>[a(l,{class:"text-uppercase"},{default:s(()=>[f(" aspirant "),a(w),a(L,{offices:r.offices,aspirants:r.aspirants,snackbar:r.snackbar},null,8,["offices","aspirants","snackbar"])]),_:1}),a(l)]),_:1}),a(S,null,{default:s(()=>[me,m("tbody",null,[(p(!0),F(R,null,N(r.aspirants,_=>(p(),F("tr",{key:_.first_name},[m("td",null,[a(b,{image:_.avatar,alt:_.first_name,size:"40"},null,8,["image","alt"])]),m("td",null,k(_.first_name),1),m("td",null,k(_.other_names),1),m("td",null,k(_.department),1),m("td",null,k(_.office.name),1),m("td",fe,[a(L,{offices:r.offices,aspirants:r.aspirants,updateForm:"",snackbar:r.snackbar,initial_asp_form_data:_,asp_update_id:_._id},null,8,["offices","aspirants","snackbar","initial_asp_form_data","asp_update_id"]),a(C,{color:"red",onClick:T=>d.handle_delete_aspirant(_),class:"ms-2",size:"small"},{default:s(()=>[f(" mdi-trash-can-outline ")]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),a(g,{class:"ma-5 pa-5"},{default:s(()=>[a(y,{class:"mb-5"},{default:s(()=>[a(l,{class:"text-uppercase"},{default:s(()=>[f(" Voters "),a(w),a(P,{offices:r.offices,voters:r.voters,snackbar:r.snackbar},null,8,["offices","voters","snackbar"])]),_:1}),a(l)]),_:1}),a(B,{modelValue:r.voter_search,"onUpdate:modelValue":o[1]||(o[1]=_=>r.voter_search=_),"append-icon":"mdi-magnify",label:"Reg No","single-line":"","hide-details":""},null,8,["modelValue"]),a(D,{"items-per-page":r.itemsPerPage,"onUpdate:itemsPerPage":o[2]||(o[2]=_=>r.itemsPerPage=_),headers:r.voter_headers,items:r.voters,"item-value":"reg_no",search:r.voter_search,class:"elevation-1"},{"item.voted":s(({item:_})=>[a(z,{class:"ma-2",color:_.raw.voted?"grey":"","text-color":"white"},{default:s(()=>[f(k(_.raw.voted?"Has voted":"Has not voted"),1)]),_:2},1032,["color"])]),_:1},8,["items-per-page","headers","items","search"])]),_:1}),a(g,{class:"ma-5 pa-5"},{default:s(()=>[a(y,{class:"mb-5"},{default:s(()=>[a(l,{class:"text-uppercase"},{default:s(()=>[f(" Tokens "),a(w),a(q,{onClick:d.fetch_tokens,color:"primary"},{default:s(()=>[f("Fetch Tokens")]),_:1},8,["onClick"])]),_:1}),a(l)]),_:1}),a(B,{modelValue:r.token_search,"onUpdate:modelValue":o[3]||(o[3]=_=>r.token_search=_),"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(D,{"items-per-page":r.itemsPerPage,"onUpdate:itemsPerPage":o[4]||(o[4]=_=>r.itemsPerPage=_),headers:r.token_headers,items:r.tokens,"item-value":"",search:r.token_search,class:"elevation-1"},{"item.isUsed":s(({item:_})=>[a(z,{class:"ma-2",color:_.raw.isUsed?"grey":""},{default:s(()=>[f(k(_.raw.isUsed?"Not available":"Available"),1)]),_:2},1032,["color"])]),_:1},8,["items-per-page","headers","items","search"])]),_:1})],64)}const pe=U(le,[["render",ue]]);export{pe as default};
